<div class="container">
  <h1>📄 Document Q&A AI</h1>
  <p>Ask questions directly from your uploaded document.</p>

  <!-- File Upload -->
  <div class="upload-box">
    <input
      type="file"
      #fileInputRef
      (change)="onFileSelected($event)"
      accept=".pdf,.txt,.docx"
    />
    <button (click)="triggerFileSelect()">Choose File</button>
    <span *ngIf="fileName(); else noFile">{{ fileName() }}</span>
    <ng-template #noFile><span>No file selected</span></ng-template>
  </div>

  <!-- Question Input -->
  <div class="question-box">
    <input
      type="text"
      placeholder="Type your question..."
      [value]="query()"
      (input)="query.set($any($event.target).value)"
    />
    <button [disabled]="loading() || !query()" (click)="askQuestion()">
      {{ loading() ? 'Processing...' : 'Ask' }}
    </button>
  </div>

  <!-- Response -->
  <div class="response-box">
    <h2>AI Response:</h2>
    <p *ngIf="loading()">⏳ Generating answer...</p>
    <p *ngIf="!loading() && response()">{{ response() }}</p>
    <p *ngIf="!loading() && !response()">Your answer will appear here...</p>
  </div>
</div>
